<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/avatar/avatar.jpg"><link rel="icon" href="/img/avatar/avatar.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#00000080"><meta name="author" content="4rozeN"><meta name="keywords" content="blog, programming, CTF, Vue, backend, Git, Uni-app"><meta name="description" content="fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å’Œæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ  å®ç°èƒŒæ™¯å›¾å…¨å±æ•ˆæœ  è®¾ç½®èƒŒæ™¯å›¾ä¸ºå…¨å±æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ fluid æä¾›çš„æ³¨å…¥ä»£ç åŠŸèƒ½ï¼Œå¯ä»¥å°†ä»£ç æ— ä¾µå…¥å¼åŠ å…¥åˆ°ä¸»é¢˜é‡Œã€‚  åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª scripts ç›®å½•ï¼Œåœ¨ç›®å½•å†…æ–°å»ºï¼šinjector.js å»ºå¥½ä¹‹åï¼Œåšå®¢çš„æ ¹ç›®å½•å¤§è‡´å¦‚ä¸‹ï¼š 1234567891011121314â”œâ”€ğŸ“ .github&#x2F; â”œâ”€ğŸ“ scaffolds&#x2F;"><meta property="og:type" content="article"><meta property="og:title" content="Hexo fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢ä»¥åŠæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ"><meta property="og:url" content="https://4rozen.github.io/archives/Hexo/60191.html"><meta property="og:site_name" content="4rozeN"><meta property="og:description" content="fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å’Œæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ  å®ç°èƒŒæ™¯å›¾å…¨å±æ•ˆæœ  è®¾ç½®èƒŒæ™¯å›¾ä¸ºå…¨å±æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ fluid æä¾›çš„æ³¨å…¥ä»£ç åŠŸèƒ½ï¼Œå¯ä»¥å°†ä»£ç æ— ä¾µå…¥å¼åŠ å…¥åˆ°ä¸»é¢˜é‡Œã€‚  åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª scripts ç›®å½•ï¼Œåœ¨ç›®å½•å†…æ–°å»ºï¼šinjector.js å»ºå¥½ä¹‹åï¼Œåšå®¢çš„æ ¹ç›®å½•å¤§è‡´å¦‚ä¸‹ï¼š 1234567891011121314â”œâ”€ğŸ“ .github&#x2F; â”œâ”€ğŸ“ scaffolds&#x2F;"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505160920360.png"><meta property="og:image" content="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505160920829.png"><meta property="og:image" content="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505232039826.png"><meta property="article:published_time" content="2024-10-05T08:50:13.000Z"><meta property="article:modified_time" content="2025-05-23T12:42:30.069Z"><meta property="article:author" content="4rozeN"><meta property="article:tag" content="ç¾åŒ–"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="fluid"><meta property="article:tag" content="æ—¥å¤œåˆ‡æ¢èƒŒæ™¯"><meta property="article:tag" content="CSS"><meta property="article:tag" content="JavaScript"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505160920360.png"><meta name="referrer" content="no-referrer-when-downgrade"><meta name="google-site-verification" content="ggjgSh07y0_dbMruvoZhis-cgZn-t6ujdG7N1z7ZA88"><meta name="msvalidate.01" content="F0E34077A7291AC38724F6A3804B1B29"><meta name="referrer" content="no-referrer"><script src="https://kit.fontawesome.com/d51e98a2a3.js" crossorigin="anonymous"></script><title>Hexo fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢ä»¥åŠæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ - 4rozeN</title><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="https://at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/icon.css"><link rel="stylesheet" href="/css/codeFloding.css"><link rel="stylesheet" href="/css/figure.css"><link rel="stylesheet" href="/css/sign.css"><link rel="stylesheet" href="/css/blockquote.css"><link rel="stylesheet" href="/css/backgroundize.css"><link rel="stylesheet" href="/css/catchPicking.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"4rozen.github.io",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"|",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:"â¡"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!0,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:1},lazyload:{enable:!0,loading_img:"/img/loading/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,tencent:{sid:null,cid:null},leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null},gtag:null,woyaola:null,cnzz:null},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.css"><style>:root{--hl-color:#abb2bf;--hl-bg:#282c34;--hltools-bg:#21252b;--hltools-color:#bbbbbc;--hlnumber-bg:#282c34;--hlnumber-color:#495162;--hlscrollbar-bg:#373c47;--hlexpand-bg:linear-gradient(180deg,rgba(40,44,52,0.1),rgba(40,44,52,0.9))}</style><style>.code-expand-btn:not(.expand-done)~* div.codeblock,.code-expand-btn:not(.expand-done)~div.codeblock{overflow:hidden;height:360px}</style><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/rss2.xml" title="4rozeN" type="application/rss+xml">
</head><body><div id="web_bg"></div><header><div class="header-inner" style="height:90vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>4rozeN</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-navicon-wzgl"></i> <span>æ–‡ç« </span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-shejiao"></i> <span>ç¤¾äº¤</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/rss2.xml" target="_self"><i class="iconfont icon-rss"></i> <span>RSS</span> </a><a class="dropdown-item" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>å‹é“¾</span></a></div></li><li class="nav-item"><a class="nav-link" href="/collections/" target="_self"><i class="iconfont icon-ic_fly"></i> <span>å¯¼èˆª</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>ä¸ªäºº</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/null) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Hexo fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢ä»¥åŠæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> 4rozeN </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-10-05 16:50" pubdate>2024å¹´10æœˆ5æ—¥ ä¸‹åˆ</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i>3.1k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i>26 åˆ†é’Ÿ</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Hexo fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢ä»¥åŠæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ</h1><p id="updated-time" class="note note-info">æœ¬æ–‡æœ€åç¼–è¾‘äºï¼š2025å¹´5æœˆ23æ—¥ æ™šä¸Š</p><div class="markdown-body"><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.7.0/hint.min.css"><meta name="referrer" content="no-referrer"><meta name="description" content="fluidä¸»é¢˜ç¾åŒ–è®¾ç½®å…¨å±èƒŒæ™¯å›¾å¹¶éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢ï¼Œè®¾ç½®æ­£æ–‡åº•é¡µä¸ºæ¯›ç»ç’ƒæ•ˆæœ"><h1 id="fluidå…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å’Œæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ"><a class="markdownIt-Anchor" href="#fluidå…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å’Œæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ"></a> fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å’Œæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ</h1><h2 id="å®ç°èƒŒæ™¯å›¾å…¨å±æ•ˆæœ"><a class="markdownIt-Anchor" href="#å®ç°èƒŒæ™¯å›¾å…¨å±æ•ˆæœ"></a> å®ç°èƒŒæ™¯å›¾å…¨å±æ•ˆæœ</h2><blockquote><p>è®¾ç½®èƒŒæ™¯å›¾ä¸ºå…¨å±æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨ fluid æä¾›çš„<a target="_blank" rel="noopener" href="https://fluid-dev.github.io/hexo-fluid-docs/advance/#fluid-%E6%B3%A8%E5%85%A5%E4%BB%A3%E7%A0%81">æ³¨å…¥ä»£ç åŠŸèƒ½</a>ï¼Œå¯ä»¥å°†ä»£ç æ— ä¾µå…¥å¼åŠ å…¥åˆ°ä¸»é¢˜é‡Œã€‚</p></blockquote><p>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>scripts</code> ç›®å½•ï¼Œåœ¨ç›®å½•å†…æ–°å»ºï¼š<code>injector.js</code></p><p>å»ºå¥½ä¹‹åï¼Œåšå®¢çš„æ ¹ç›®å½•å¤§è‡´å¦‚ä¸‹ï¼š</p><figure class="shiki"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“ .github/</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“ scaffolds/</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“ scripts/</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“ source/</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“ test/</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“ themes/</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ _config.fluid.yml</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ _config.landscape.yml</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ _config.yml</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ .gitignore</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ package-lock.json</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ package.json</span></span>
<span class="line"><span style="color:#d4d4d4">â”œâ”€ğŸ“„ template.md</span></span>
<span class="line"><span style="color:#d4d4d4">â””â”€ğŸ“„ yarn.lock</span></span></code></pre></div></div></figure><div class="note note-warning"><p>âš ï¸æ³¨æ„ï¼š<br>è¯¥æ–‡ä»¶ä¸éœ€è¦åœ¨<code>_config.fluid.yml</code> ä¸­è¿›è¡Œå¼•ç”¨ï¼Œ<strong>hexo è‡ªåŠ¨è°ƒç”¨æ‰§è¡Œé‡Œé¢çš„ js æ–‡ä»¶</strong></p></div><figure class="shiki js"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> { </span><span style="color:#9cdcfe">root</span><span style="color:#d4d4d4">: </span><span style="color:#4fc1ff">siteRoot</span><span style="color:#d4d4d4"> = </span><span style="color:#ce9178">"/"</span><span style="color:#d4d4d4"> } = </span><span style="color:#9cdcfe">hexo</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">config</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#9cdcfe">hexo</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">extend</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">injector</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">register</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"body_begin"</span><span style="color:#d4d4d4">, </span><span style="color:#ce9178">`&lt;div id="web_bg"&gt;&lt;/div&gt;`</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#9cdcfe">hexo</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">extend</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">injector</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">register</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"body_end"</span><span style="color:#d4d4d4">,</span><span style="color:#ce9178">`&lt;script src="</span><span style="color:#569cd6">${</span><span style="color:#9cdcfe">siteRoot</span><span style="color:#569cd6">}</span><span style="color:#ce9178">js/backgroundize.js"&gt;&lt;/script&gt;`</span><span style="color:#d4d4d4">);</span></span></code></pre></div></div></figure><p>æ–‡ä»¶åå…¶å®å¯ä»¥éšæ„ï¼Œä½†æ¥ä¸‹æ¥çš„ js æ–‡ä»¶åè¯·ä¸ <code>src="${siteRoot}js/backgroundize.js"</code> ä¸­ä¿æŒä¸€è‡´ã€‚</p><p>å¦‚æœä½ <strong>ä¸éœ€è¦</strong>èƒŒæ™¯å›¾éšæ—¥å¤œä¸»é¢˜åˆ‡æ¢è€Œåˆ‡æ¢çš„è¯ï¼Œé‚£ä¹ˆä½ åªéœ€è¦æ–°å»º <code>backgroundize.js</code> å¹¶å†™å…¥ä»¥ä¸‹ä»£ç å³å¯ï¼š(<code>source\js\backgroundize.js</code>)</p><figure class="shiki js"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#9cdcfe">document</span></span>
<span class="line"><span style="color:#d4d4d4">  .</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">'#web_bg'</span><span style="color:#d4d4d4">)</span></span>
<span class="line"><span style="color:#d4d4d4">  .</span><span style="color:#dcdcaa">setAttribute</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">'style'</span><span style="color:#d4d4d4">, </span><span style="color:#ce9178">`background-image: </span><span style="color:#569cd6">${</span><span style="color:#9cdcfe">document</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">'.banner'</span><span style="color:#d4d4d4">).</span><span style="color:#9cdcfe">style</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">background</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">split</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">' '</span><span style="color:#d4d4d4">)[</span><span style="color:#b5cea8">0</span><span style="color:#d4d4d4">]</span><span style="color:#569cd6">}</span><span style="color:#ce9178">;position: fixed;width: 100%;height: 100%;z-index: -1;background-size: cover;`</span><span style="color:#d4d4d4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9cdcfe">document</span></span>
<span class="line"><span style="color:#d4d4d4">  .</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"#banner"</span><span style="color:#d4d4d4">)</span></span>
<span class="line"><span style="color:#d4d4d4">  .</span><span style="color:#dcdcaa">setAttribute</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">'style'</span><span style="color:#d4d4d4">, </span><span style="color:#ce9178">'background-image: url()'</span><span style="color:#d4d4d4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9cdcfe">document</span></span>
<span class="line"><span style="color:#d4d4d4">  .</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"#banner .mask"</span><span style="color:#d4d4d4">)</span></span>
<span class="line"><span style="color:#d4d4d4">  .</span><span style="color:#dcdcaa">setAttribute</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">'style'</span><span style="color:#d4d4d4">, </span><span style="color:#ce9178">'background-color:rgba(0,0,0,0)'</span><span style="color:#d4d4d4">)</span></span></code></pre></div></div></figure><p>ç¬¬ä¸€æ®µä»£ç çš„åŠŸèƒ½æ˜¯ï¼šæ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œåœ¨é¡µé¢çš„ <code>body</code> å¼€å§‹éƒ¨åˆ†æ³¨å…¥ä¸€ä¸ª <code>div</code> å…ƒç´ ï¼Œå…¶ <code>id</code> ä¸º <code>web_bg</code>ï¼Œä½œä¸ºèƒŒæ™¯å›¾åƒçš„å®¹å™¨ï¼Œç„¶ååœ¨é¡µé¢çš„ <code>body</code> ç»“æŸéƒ¨åˆ†æ³¨å…¥ js æ–‡ä»¶ï¼ˆ<code>backgroundize.js</code>ï¼‰è¿›è¡Œå¼•ç”¨ï¼Œç¡®ä¿è„šæœ¬åœ¨é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œã€‚</p><p>ç¬¬äºŒæ®µä»£ç çš„åŠŸèƒ½æ˜¯ï¼šæå–ç°æœ‰<code>.banner</code> å…ƒç´ çš„å›¾åƒ URLï¼Œå°†æå–åˆ°çš„å›¾åƒ URL åº”ç”¨åˆ° <code>web_bg</code> å…ƒç´ ä¸Šï¼ŒåŒæ—¶è®¾ç½®èƒŒæ™¯æ ·å¼ä¸º <code>fixed</code> å›ºå®šå®šä½ã€è¦†ç›–æ•´ä¸ªé¡µé¢ã€<code>z-index: -1</code> å¹¶ç½®äºå…¶ä»–å…ƒç´ ä¹‹ä¸‹ã€‚</p><p>è‡³æ­¤ï¼ŒèƒŒæ™¯å›¾å°±å…¨å±ä¸”å›ºå®šäº†ã€‚</p><h2 id="å®ç°èƒŒæ™¯å›¾éšæ—¥å¤œä¸»é¢˜åˆ‡æ¢æ•ˆæœ"><a class="markdownIt-Anchor" href="#å®ç°èƒŒæ™¯å›¾éšæ—¥å¤œä¸»é¢˜åˆ‡æ¢æ•ˆæœ"></a> å®ç°èƒŒæ™¯å›¾éšæ—¥å¤œä¸»é¢˜åˆ‡æ¢æ•ˆæœ</h2><p>çœ‹åˆ°è¿™ä¹Ÿå°±è¯´æ˜ä½ éœ€è¦æ ‡é¢˜æ‰€è¿°åŠŸèƒ½ã€‚é‚£ä¹ˆè¯·å°†<code>_config.fluid.yml</code> ä¸­æ¶‰åŠåˆ° <code>banner_img</code> çš„éƒ¨åˆ†å…¨éƒ¨é…ç½®ä¸ºç©ºï¼Œå› ä¸ºæˆ‘ä»¬è¦æ‰‹åŠ¨è®¾ç½®èƒŒæ™¯å›¾ã€‚</p><p>ä¾‹å¦‚é¦–é¡µ banner å’Œæ–‡ç« é¡µ bannerï¼ˆå¯ä»¥é€šè¿‡æœç´¢ <code>banner_img</code> æé«˜æ•ˆç‡ï¼‰ï¼š</p><p><img src="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505160920360.png" srcset="/img/loading/loading.gif" lazyload alt="image-20250516092011283"></p><p><img src="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505160920829.png" srcset="/img/loading/loading.gif" lazyload alt="image-20250516092031772"></p><p>åœ¨ <code>source/js</code> ç›®å½•ä¸­æ–°å»ºæˆ–ä¿®æ”¹ <code>backgroundize.js</code> æ–‡ä»¶ï¼Œæˆ‘çš„ä»£ç æ–‡ä»¶å¦‚ä¸‹ï¼š<code>backgroundize.js</code></p><figure class="shiki javascript"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * author: 4rozeN</span></span>
<span class="line"><span style="color:#6a9955"> * file: backgroundize.js</span></span>
<span class="line"><span style="color:#6a9955"> * last modified: 2025-05-19</span></span>
<span class="line"><span style="color:#6a9955"> * description: èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å¤„ç†ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * è·å–é¢œè‰²æ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼ˆæ·±è‰² / æµ…è‰²ï¼‰ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@type</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{HTMLElement | null}</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">colorToggleButton</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">document</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"#color-toggle-btn .nav-link"</span><span style="color:#d4d4d4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * èƒŒæ™¯å®¹å™¨å…ƒç´ ï¼ˆç»Ÿä¸€ä¸º #web_bgï¼‰ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@type</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{HTMLElement}</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">backgroundContainer</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">document</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"#web_bg"</span><span style="color:#d4d4d4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === èƒŒæ™¯å›¾ç‰‡é…ç½® ===</span></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * BACKGROUND_IMAGES è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#6a9955"> * - dark / lightï¼šæŒ‰é¢œè‰²æ¨¡å¼åˆ†ç±»ï¼›å†åŒºåˆ† desktop / mobile ä¸¤å¼ å›¾ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * - fallbackï¼šåœ¨æ’é™¤é¡µé¢ã€æˆ–æ¡Œé¢ / ç§»åŠ¨åˆ‡æ¢æ—¶çš„é»˜è®¤èƒŒæ™¯ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4"> = {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">dark:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">desktop:</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#ce9178">"URl1"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">mobile:</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#ce9178">"mobileURL"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  },</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">light:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">desktop:</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#ce9178">"URL2"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">mobile:</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#ce9178">"mobileURL"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  },</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">fallback:</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#ce9178">"fallbackURL"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === é¡µé¢æ’é™¤åˆ—è¡¨ ===</span></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * åœ¨ä»¥ä¸‹è·¯å¾„ï¼ˆå‰ç¼€åŒ¹é…ï¼‰ä¸è·Ÿéšé¢œè‰²æ¨¡å¼åˆ‡æ¢èƒŒæ™¯ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * è¯´æ˜ï¼šä¸»é¡µ ("/") ä¹Ÿè¢«è§†ä¸ºæ’é™¤é¡µé¢ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@type</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{string[]}</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">PAGE_EXCLUSIONS</span><span style="color:#d4d4d4"> = [</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/links/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/about/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/categories/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/tags/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/collections/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === å·¥å…·å‡½æ•° ===</span></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦åœ¨æ’é™¤åˆ—è¡¨ä¸­ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@param</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{string}</span><span style="color:#6a9955"> </span><span style="color:#9cdcfe">path</span><span style="color:#6a9955"> - location.pathname</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@returns</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{boolean}</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">isExcludedPage</span><span style="color:#d4d4d4"> = (</span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4"> === </span><span style="color:#ce9178">"/"</span><span style="color:#d4d4d4">) </span><span style="color:#c586c0">return</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">return</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">PAGE_EXCLUSIONS</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">some</span><span style="color:#d4d4d4">((</span><span style="color:#9cdcfe">excluded</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">startsWith</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">excluded</span><span style="color:#d4d4d4">));</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯è§†å£ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@returns</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{boolean}</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">isMobileViewport</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">window</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">innerWidth</span><span style="color:#d4d4d4"> &lt; </span><span style="color:#b5cea8">768</span><span style="color:#d4d4d4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * ç§»é™¤ banner é®ç½©ï¼Œé¿å…èƒŒæ™¯å›¾å±‚è¢«åŠé€æ˜é»‘å±‚è¦†ç›–ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">removeBannerMask</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">mask</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">document</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">querySelector</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"#banner .mask"</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#9cdcfe">mask</span><span style="color:#d4d4d4">) </span><span style="color:#9cdcfe">mask</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">style</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">backgroundColor</span><span style="color:#d4d4d4"> = </span><span style="color:#ce9178">"rgba(0,0,0,0)"</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * é¢„åŠ è½½æ‰€æœ‰èƒŒæ™¯å›¾ç‰‡ï¼Œé™ä½é¦–å¸§é—ªçƒã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">preloadBackgroundImages</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">urls</span><span style="color:#d4d4d4"> = </span><span style="color:#569cd6">new</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">Set</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#6a9955">// æ”¶é›†æ‰€æœ‰å›¾ç‰‡ URL</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">Object</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">values</span><span style="color:#d4d4d4">(</span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">).</span><span style="color:#dcdcaa">forEach</span><span style="color:#d4d4d4">((</span><span style="color:#9cdcfe">entry</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#569cd6">typeof</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">entry</span><span style="color:#d4d4d4"> === </span><span style="color:#ce9178">"object"</span><span style="color:#d4d4d4">) {</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">urls</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">add</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">entry</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">desktop</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">urls</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">add</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">entry</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">mobile</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">    } </span><span style="color:#c586c0">else</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">urls</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">add</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">entry</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">    }</span></span>
<span class="line"><span style="color:#d4d4d4">  });</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#6a9955">// åˆ›å»º Image å¯¹è±¡è§¦å‘åŠ è½½</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">urls</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">forEach</span><span style="color:#d4d4d4">((</span><span style="color:#9cdcfe">url</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">img</span><span style="color:#d4d4d4"> = </span><span style="color:#569cd6">new</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">Image</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">img</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">src</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">url</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  });</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * æ ¹æ®å½“å‰æ¨¡å¼ / è§†å£æˆ–è‡ªå®šä¹‰ URL è®¾ç½®èƒŒæ™¯å›¾ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@param</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{"dark" | "light" | null}</span><span style="color:#6a9955"> </span><span style="color:#9cdcfe">mode</span><span style="color:#6a9955"> - å½“å‰é¢œè‰²æ¨¡å¼ï¼›null è¡¨ç¤ºæ’é™¤é¡µé¢</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@param</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{string}</span><span style="color:#6a9955"> </span><span style="color:#9cdcfe">[customUrl]</span><span style="color:#6a9955"> - å¼ºåˆ¶ä½¿ç”¨çš„è‡ªå®šä¹‰é“¾æ¥ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">applyBackgroundImage</span><span style="color:#d4d4d4"> = (</span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4">, </span><span style="color:#9cdcfe">customUrl</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">mobile</span><span style="color:#d4d4d4"> = </span><span style="color:#dcdcaa">isMobileViewport</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">let</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">imageUrl</span><span style="color:#d4d4d4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#9cdcfe">customUrl</span><span style="color:#d4d4d4">) {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// è‹¥æ˜ç¡®æŒ‡å®šè‡ªå®šä¹‰ URLï¼Œåˆ™ç›´æ¥ä½¿ç”¨</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">imageUrl</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">customUrl</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  } </span><span style="color:#c586c0">else</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4"> === </span><span style="color:#569cd6">null</span><span style="color:#d4d4d4">) {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// æ’é™¤é¡µé¢ï¼šæ¡Œé¢ä½¿ç”¨ fallbackï¼Œç§»åŠ¨ç«¯ç»Ÿä¸€ dark.mobile</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">imageUrl</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">mobile</span></span>
<span class="line"><span style="color:#d4d4d4">      ? </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">dark</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">mobile</span></span>
<span class="line"><span style="color:#d4d4d4">      : </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">fallback</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  } </span><span style="color:#c586c0">else</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (!</span><span style="color:#dcdcaa">isExcludedPage</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">location</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">pathname</span><span style="color:#d4d4d4">) &amp;&amp; </span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4">) {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// éæ’é™¤é¡µé¢ï¼šæ ¹æ®æ¨¡å¼ + è§†å£é€‰æ‹©</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">imageUrl</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">mobile</span></span>
<span class="line"><span style="color:#d4d4d4">      ? </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">[</span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4">].</span><span style="color:#9cdcfe">mobile</span></span>
<span class="line"><span style="color:#d4d4d4">      : </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">[</span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4">].</span><span style="color:#9cdcfe">desktop</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  } </span><span style="color:#c586c0">else</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// å¤„ç†ä»ç§»åŠ¨ç«¯åˆ‡æ¢å›æ¡Œé¢ç«¯æ—¶å¯èƒ½å‡ºç°çš„èƒŒæ™¯é”™ä¹±</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">imageUrl</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">mobile</span></span>
<span class="line"><span style="color:#d4d4d4">      ? </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">dark</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">mobile</span></span>
<span class="line"><span style="color:#d4d4d4">      : </span><span style="color:#4fc1ff">BACKGROUND_IMAGES</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">fallback</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">backgroundContainer</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">style</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">backgroundImage</span><span style="color:#d4d4d4"> = </span><span style="color:#ce9178">`url(</span><span style="color:#569cd6">${</span><span style="color:#9cdcfe">imageUrl</span><span style="color:#569cd6">}</span><span style="color:#ce9178">)`</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * è·å–ç”¨æˆ·å½“å‰çš„é¢œè‰²æ¨¡å¼ï¼ˆæ·±/æµ…ï¼‰ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> * </span><span style="color:#569cd6">@returns</span><span style="color:#6a9955"> </span><span style="color:#4ec9b0">{"dark" | "light"}</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">getUserColorScheme</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">mode</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">document</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">documentElement</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">getAttribute</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"data-user-color-scheme"</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">return</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4"> === </span><span style="color:#ce9178">"dark"</span><span style="color:#d4d4d4"> ? </span><span style="color:#ce9178">"dark"</span><span style="color:#d4d4d4"> : </span><span style="color:#ce9178">"light"</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * é¢œè‰²æ¨¡å¼åˆ‡æ¢åçš„å›è°ƒï¼šé‡æ–°åº”ç”¨èƒŒæ™¯å¹¶ç§»é™¤é®ç½©ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">handleColorSchemeToggle</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">mode</span><span style="color:#d4d4d4"> = </span><span style="color:#dcdcaa">getUserColorScheme</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (!</span><span style="color:#dcdcaa">isExcludedPage</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">location</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">pathname</span><span style="color:#d4d4d4">)) {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#dcdcaa">applyBackgroundImage</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">mode</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#dcdcaa">removeBannerMask</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === è§†å£ Resize å¤„ç†ï¼ˆé˜²æŠ–ï¼‰ ===</span></span>
<span class="line"><span style="color:#569cd6">let</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">resizeTimer</span><span style="color:#d4d4d4">; </span><span style="color:#6a9955">// å®šæ—¶å™¨å¥æŸ„</span></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * çª—å£å¤§å°å˜åŒ–äº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼ˆå« 200ms é˜²æŠ–ï¼‰ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">handleViewportResize</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#dcdcaa">clearTimeout</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">resizeTimer</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">resizeTimer</span><span style="color:#d4d4d4"> = </span><span style="color:#dcdcaa">setTimeout</span><span style="color:#d4d4d4">(() </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#dcdcaa">applyBackgroundImage</span><span style="color:#d4d4d4">(</span><span style="color:#dcdcaa">getUserColorScheme</span><span style="color:#d4d4d4">());</span></span>
<span class="line"><span style="color:#d4d4d4">  }, </span><span style="color:#b5cea8">200</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === ç›‘å¬é¢œè‰²æ¨¡å¼å±æ€§å˜åŒ– ===</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">observeColorSchemeChange</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">targetNode</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">document</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">documentElement</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">config</span><span style="color:#d4d4d4"> = {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">attributes:</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">attributeFilter:</span><span style="color:#d4d4d4"> [</span><span style="color:#ce9178">"data-user-color-scheme"</span><span style="color:#d4d4d4">],</span></span>
<span class="line"><span style="color:#d4d4d4">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">callback</span><span style="color:#d4d4d4"> = (</span><span style="color:#9cdcfe">mutationsList</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#c586c0">for</span><span style="color:#d4d4d4"> (</span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">mutation</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">of</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">mutationsList</span><span style="color:#d4d4d4">) {</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">mutation</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">type</span><span style="color:#d4d4d4"> === </span><span style="color:#ce9178">"attributes"</span><span style="color:#d4d4d4"> &amp;&amp;</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">mutation</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">attributeName</span><span style="color:#d4d4d4"> === </span><span style="color:#ce9178">"data-user-color-scheme"</span></span>
<span class="line"><span style="color:#d4d4d4">      ) {</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#dcdcaa">handleColorSchemeToggle</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">      }</span></span>
<span class="line"><span style="color:#d4d4d4">    }</span></span>
<span class="line"><span style="color:#d4d4d4">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">observer</span><span style="color:#d4d4d4"> = </span><span style="color:#569cd6">new</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">MutationObserver</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">callback</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">observer</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">observe</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">targetNode</span><span style="color:#d4d4d4">, </span><span style="color:#9cdcfe">config</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === åˆå§‹åŒ– ===</span></span>
<span class="line"><span style="color:#6a9955">/**</span></span>
<span class="line"><span style="color:#6a9955"> * åˆå§‹åŒ–èƒŒæ™¯ï¼šé¢„åŠ è½½ â†’ æ ¹æ®å½“å‰é¡µé¢ &amp; æ¨¡å¼è®¾ç½® â†’ å»æ‰é®ç½©ã€‚</span></span>
<span class="line"><span style="color:#6a9955"> */</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">initializeBackgrounds</span><span style="color:#d4d4d4"> = () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#dcdcaa">preloadBackgroundImages</span><span style="color:#d4d4d4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">currentPath</span><span style="color:#d4d4d4"> = </span><span style="color:#9cdcfe">location</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">pathname</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">currentMode</span><span style="color:#d4d4d4"> = </span><span style="color:#dcdcaa">getUserColorScheme</span><span style="color:#d4d4d4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#4fc1ff">PAGE_EXCLUSIONS</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">includes</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">currentPath</span><span style="color:#d4d4d4">)) {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#dcdcaa">applyBackgroundImage</span><span style="color:#d4d4d4">(</span><span style="color:#569cd6">null</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  } </span><span style="color:#c586c0">else</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#dcdcaa">applyBackgroundImage</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">currentMode</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#dcdcaa">removeBannerMask</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// === äº‹ä»¶ç›‘å¬ ===</span></span>
<span class="line"><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (!</span><span style="color:#9cdcfe">colorToggleButton</span><span style="color:#d4d4d4">) {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">console</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">warn</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"æœªæ‰¾åˆ°é¢œè‰²æ¨¡å¼åˆ‡æ¢æŒ‰é’®"</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// ç›‘å¬é¢œè‰²æ¨¡å¼å±æ€§å˜åŒ–</span></span>
<span class="line"><span style="color:#dcdcaa">observeColorSchemeChange</span><span style="color:#d4d4d4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// ç›‘å¬çª—å£å¤§å°å˜åŒ–</span></span>
<span class="line"><span style="color:#9cdcfe">window</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">addEventListener</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"resize"</span><span style="color:#d4d4d4">, </span><span style="color:#9cdcfe">handleViewportResize</span><span style="color:#d4d4d4">, { </span><span style="color:#9cdcfe">passive:</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// DOMContentLoaded â†’ åˆå§‹åŒ–èƒŒæ™¯</span></span>
<span class="line"><span style="color:#9cdcfe">window</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">addEventListener</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"DOMContentLoaded"</span><span style="color:#d4d4d4">, () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">console</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">log</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"DOM å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–èƒŒæ™¯å›¾ã€‚"</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#dcdcaa">initializeBackgrounds</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// åŠ è½½å®Œæ¯•ä¹‹åæ¸…é™¤æ§åˆ¶å°æ—¥å¿—</span></span>
<span class="line"><span style="color:#9cdcfe">window</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">addEventListener</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"load"</span><span style="color:#d4d4d4">, () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">console</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">clear</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">});</span></span></code></pre></div></div></figure><p>è¯¥ä»£ç æ–‡ä»¶è¿˜éœ€ç»“åˆä¸€ä¸ªè‡ªå®šä¹‰çš„ css æ–‡ä»¶ä½¿ç”¨ï¼š<code>source/css/backgroundize.css</code></p><figure class="shiki css"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#d7ba7d">#web_bg</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">position</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">fixed</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">width</span><span style="color:#d4d4d4">: </span><span style="color:#b5cea8">100%</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">height</span><span style="color:#d4d4d4">: </span><span style="color:#b5cea8">100%</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">z-index</span><span style="color:#d4d4d4">: </span><span style="color:#b5cea8">-1</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">background-size</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">cover</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#6a9955">/* æ·»åŠ è¿‡æ¸¡æ•ˆæœï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ */</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">transition</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">all</span><span style="color:#d4d4d4"> </span><span style="color:#b5cea8">0.5s</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div></div></figure><p>åœ¨ <code>backgroundize.js</code> æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æŒ‡å®šäº†èƒŒæ™¯å›¾ã€åˆ‡æ¢é€»è¾‘ï¼Œæ‰€ä»¥ä¸Šä¸€èŠ‚çš„ç¬¬äºŒæ®µä»£ç å·²ä¸å†æœ‰ä½œç”¨ï¼Œæ•…åœ¨æ­¤åˆ å»ã€‚</p><p>åœ¨ <code>backgroundize.js</code> æ–‡ä»¶ä¸­ï¼Œè‹¥ä½ æœ‰æ›´å¤šè‡ªå®šä¹‰é¡µé¢å›¾ç‰‡éœ€æ±‚ï¼Œä½ å°†èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„å®ç°å®ƒã€‚</p><p>åœ¨ <code>backgroundize.css</code> ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶å°† <code>web_bg</code> è®¾ç½®ä¸º <code>fixed</code> å°†å…¶å›ºå®šï¼Œå¹¶è®¾ç½® <code>z-index: -1</code> ä¿æŒæ²‰åº•ã€‚</p><p>å› ä¸ºåœ¨<code>_config.fluid.yml</code> ä¸­æˆ‘ä»¬å°† <code>banner_img</code> é…ç½®é¡¹å…¨éƒ¨é…ç½®ä¸ºç©ºï¼Œé‚£ä¹ˆæ§åˆ¶å°å°†ä¼šå‡ºç° 404 é”™è¯¯ï¼š</p><p><img src="https://gitee.com/CSJ021005/f0ur_lin_-picgo/raw/master/202505232039826.png" srcset="/img/loading/loading.gif" lazyload alt="image-20250523203906585"></p><p>çœ¼ä¸è§å¿ƒä¸çƒ¦ï¼Œæ‰€ä»¥åœ¨ <code>backgroundize.js</code> ä¸­å­˜åœ¨ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="shiki js"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955">// åŠ è½½å®Œæ¯•ä¹‹åæ¸…é™¤æ§åˆ¶å°æ—¥å¿—</span></span>
<span class="line"><span style="color:#9cdcfe">window</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">addEventListener</span><span style="color:#d4d4d4">(</span><span style="color:#ce9178">"load"</span><span style="color:#d4d4d4">, () </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">console</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">clear</span><span style="color:#d4d4d4">();</span></span>
<span class="line"><span style="color:#d4d4d4">});</span></span></code></pre></div></div></figure><div class="note note-warning"><p>âš ï¸æ³¨æ„ï¼š<br>ä»¥ä¸Šæ–‡ä»¶ï¼Œåˆ«å¿˜è®°åœ¨<code>_config.fluid.yml</code> æ–‡ä»¶ä¸­çš„ <code>custom_css</code> ä¸­è¿›è¡Œå¼•ç”¨ã€‚<br><code>URl1</code>ã€<code>mobileURL</code> å’Œ <code>fallbackURL</code> ç­‰å­—ç¬¦ï¼Œä»…ä½œå ä½ä½¿ç”¨ï¼Œå®é™…åº”ä¸ºçœŸå®å›¾ç‰‡é“¾æ¥ã€‚</p></div><p>å› ä¸º <code>injector.js</code> çš„å­˜åœ¨ï¼Œæ‰€ä»¥ <code>backgroundize.js</code><strong>ä¸éœ€è¦</strong>åœ¨ <code>custom_js</code> ä¸­å¼•å…¥ï¼Œå¦åˆ™æ§åˆ¶å°ä¸­å°†ä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼š</p><figure class="shiki"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#d4d4d4">Uncaught SyntaxError: Identifier 'colorToggleButton' has already been declared (at backgroundize.js:1:1)</span></span></code></pre></div></div></figure><p><code>_config.fluid.yml</code> é…ç½®é¡¹ï¼š</p><figure class="shiki yaml"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#569cd6">custom_css</span><span style="color:#d4d4d4">:</span></span>
<span class="line"><span style="color:#d4d4d4">  - </span><span style="color:#ce9178">/css/backgroundize.css</span></span></code></pre></div></div></figure><h2 id="é¢„åŠ è½½çš„å¯èƒ½é—®é¢˜"><a class="markdownIt-Anchor" href="#é¢„åŠ è½½çš„å¯èƒ½é—®é¢˜"></a> é¢„åŠ è½½çš„å¯èƒ½é—®é¢˜</h2><p>å¦‚æœä½ é‡åˆ°äº†ç¬¬ä¸€æ¬¡åˆ‡æ¢ä¸»é¢˜ï¼Œå›¾ç‰‡ä¸å›¾ç‰‡ä¹‹é—´çš„åˆ‡æ¢æœ‰äº›ç”Ÿç¡¬ï¼Œæœ‰ç‚¹é—ªå±çš„æ„Ÿè§‰ï¼Œä½†åç»­çš„æ‰€æœ‰åˆ‡æ¢å´ååˆ†ä¸æ»‘ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯é¢„åŠ è½½çš„å¤±è´¥ã€‚</p><h3 id="å¯èƒ½çš„é—®é¢˜æ¥æº"><a class="markdownIt-Anchor" href="#å¯èƒ½çš„é—®é¢˜æ¥æº"></a> å¯èƒ½çš„é—®é¢˜æ¥æº</h3><div class="note note-info"><p>å¦‚æœ <code>OSS/Bucket</code> è®¾ç½®äº†å“åº”å¤´ <code>Cache-Control: no-store</code> æˆ– <code>max-age=0</code> æˆ–æ²¡æœ‰å¯ç”¨ <code>Expires</code>ï¼Œæµè§ˆå™¨ä¼šè®¤ä¸ºæ¯æ¬¡è®¿é—®éƒ½éœ€è¦é‡æ–°æ‹‰å–ã€‚ä¹Ÿå°±æ˜¯å°½ç®¡ä½ é¢„åŠ è½½äº†ï¼Œä½†åˆ‡æ¢æ—¶å›¾ç‰‡é“¾æ¥ä»ç„¶ä¼šè§¦å‘ä¸€æ¬¡çœŸæ­£çš„è¯·æ±‚ã€‚</p></div><p>æˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä½¿ç”¨çš„å›¾ç‰‡æ‰˜ç®¡åœ¨é˜¿é‡Œäº‘çš„ oss ä¸Šï¼Œé˜¿é‡Œäº‘è¿”å›çš„å“åº”å¤´ä¸­å­˜åœ¨ï¼š</p><figure class="shiki"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#d4d4d4">x-oss-force-download: true</span></span>
<span class="line"><span style="color:#d4d4d4">Content-Disposition: attachment</span></span></code></pre></div></div></figure><p>è€Œ <code>Content-Disposition: attachment</code> çš„å«ä¹‰æ˜¯ï¼š<strong>è¿™ä¸ªèµ„æºæ˜¯ä¾›ä¸‹è½½ç”¨çš„</strong>ï¼Œè€Œä¸æ˜¯ç½‘é¡µå†…å®¹çš„ä¸€éƒ¨åˆ†ã€‚</p><p>æµè§ˆå™¨é‡åˆ°è¿™ç§å“åº”å¤´æ—¶ï¼Œé€šå¸¸ä¼š<strong>ç»•è¿‡å›¾ç‰‡çš„å¸¸è§„ç¼“å­˜è·¯å¾„</strong>ï¼Œæˆ–è€…ä¸ä¼šæŠŠå®ƒä½œä¸ºæ­£å¸¸çš„é¢„åŠ è½½èµ„æºå¤„ç†ã€‚</p><p>è¿™å°±å¯¼è‡´ï¼š</p><ul><li>å›¾ç‰‡ä¸ä¼šè¿›å…¥ <code>memory</code> æˆ– <code>disk cache</code></li><li>å³ä½¿é¢„åŠ è½½ä»£ç å†™å¾—å¾ˆå¥½ï¼Œæµè§ˆå™¨ä»ç„¶ä¼šæ¯æ¬¡ç‚¹å‡»åˆ‡æ¢æ—¶å‘èµ·æ–°è¯·æ±‚</li><li>å¯¼è‡´é¦–æ¬¡åˆ‡æ¢èƒŒæ™¯å›¾æ—¶å‡ºç° â€œ<strong>é—ªå±æˆ–å»¶è¿ŸåŠ è½½</strong>â€</li></ul><p>ç¿»é˜…æ–‡æ¡£ï¼Œå‘ç°é˜¿é‡Œäº‘åœ¨å¾ˆä¹…ä¹‹å‰å°±å·²ç»åšå‡ºäº†è°ƒæ•´ï¼š</p><p><code>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé€šè¿‡OSSé»˜è®¤ BucketåŸŸåè®¿é—®æ–‡ä»¶æ—¶ï¼ŒOSSä¼šå¼ºåˆ¶å¢åŠ ä¸‹è½½å“åº”å¤´ï¼Œå¯¼è‡´æµè§ˆå™¨å¼ºåˆ¶ä¸‹è½½æ–‡ä»¶ã€‚</code></p><p>ä¹Ÿå°±æ˜¯å¼ºåˆ¶å¢åŠ äº† <code>x-oss-force-download: true</code> ä½¿å¾— <code>Content-Disposition</code> ä¸ºé™„ä»¶ç±»å‹ã€‚</p><p>å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿è®¨è®ºã€‚</p><h3 id="è§£å†³åŠæ³•"><a class="markdownIt-Anchor" href="#è§£å†³åŠæ³•"></a> è§£å†³åŠæ³•</h3><p>å¦‚æœä½ çš„æ‰˜ç®¡å¹³å°å¯ä»¥æ›´æ”¹å…ƒä¿¡æ¯ï¼Œé‚£ä¹ˆè¯·æ›´æ”¹æ‰€éœ€æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼š</p><ul><li><p><code>Content-Disposition: attachment</code> æ”¹ä¸º <code>Content-Disposition: inline</code> æˆ–ç•™ç©º</p></li><li><p><code>x-oss-force-download: true</code> æ”¹ä¸º <code>false</code></p></li></ul><p>é˜¿é‡Œäº‘å¹³å°æ˜¯æ— æ³•é€šè¿‡æ›´æ”¹æ–‡ä»¶å…ƒä¿¡æ¯æ¥è§£å†³çš„ã€‚</p><p>é˜¿é‡Œäº‘çš„æ¨èæ–¹æ¡ˆæ˜¯ä¸º <code>oss/bucket</code> ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼Œä¸å†ä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„é»˜è®¤åŸŸåã€‚è¯¦è§ï¼š<a target="_blank" rel="noopener" href="https://help.aliyun.com/zh/oss/user-guide/map-custom-domain-names-5">ç»‘å®šè‡ªå®šä¹‰åŸŸåè‡³ Bucket é»˜è®¤åŸŸå</a></p><p>æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥å°†å›¾ç‰‡æ‰˜ç®¡åœ¨ GitHub ä¸Šï¼Œå°±ç›´æ¥ä½¿ç”¨ä»“åº“çš„ img ç›®å½•ç”¨äºå­˜æ”¾ï¼ŒGitHub çš„å“åº”å¤´æ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚</p><h2 id="éé¢„æœŸçš„åˆ‡æ¢æ•ˆæœ"><a class="markdownIt-Anchor" href="#éé¢„æœŸçš„åˆ‡æ¢æ•ˆæœ"></a> éé¢„æœŸçš„åˆ‡æ¢æ•ˆæœ</h2><p>å¦‚æœä½ é‡åˆ°äº†ç¬¬ä¸€æ—¶é—´æ˜¾ç¤ºçš„ä¸æ˜¯é¢„æœŸçš„èƒŒæ™¯å›¾ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯ä½ åœ¨<code>_config.fluid.yml</code> æ–‡ä»¶ä¸­çš„ <code>banner_img</code> æ²¡æœ‰<strong>å…¨éƒ¨</strong>é…ç½®ä¸ºç©ºã€‚</p><h2 id="æ— æ³•åŒ¹é…é¡µé¢æ’é™¤é¡µé¢ä¸ç”Ÿæ•ˆ"><a class="markdownIt-Anchor" href="#æ— æ³•åŒ¹é…é¡µé¢æ’é™¤é¡µé¢ä¸ç”Ÿæ•ˆ"></a> æ— æ³•åŒ¹é…é¡µé¢ / æ’é™¤é¡µé¢ä¸ç”Ÿæ•ˆ</h2><p>è¿™ä¸€èˆ¬æ˜¯å› ä¸ºä½ çš„ç½‘ç«™çš„æ°¸ä¹…é“¾æ¥ç”Ÿæˆæ–¹å¼ä¸æˆ‘ä¸åŒã€‚</p><p>è¯¥é…ç½®é¡¹é€šå¸¸åœ¨<code>_config.yml</code> æ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°ã€‚æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š</p><figure class="shiki yaml"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955"># URL</span></span>
<span class="line"><span style="color:#6a9955">## è®¾ç½®ä½ çš„ç½‘ç«™ URLï¼Œä¾‹å¦‚ GitHub Pages ä¸Šè®¾ç½®ä¸º 'https://username.github.io/project'</span></span>
<span class="line"><span style="color:#569cd6">url</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">https://4rozeN.github.io</span><span style="color:#d4d4d4"> </span><span style="color:#6a9955"># ç½‘ç«™çš„å®Œæ•´ URL</span></span>
<span class="line"><span style="color:#569cd6">permalink</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">archives/:category/:abbrlink.html</span><span style="color:#d4d4d4"> </span><span style="color:#6a9955"># æ–‡ç« æ°¸ä¹…é“¾æ¥çš„æ ¼å¼</span></span>
<span class="line"><span style="color:#569cd6">abbrlink</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">alg</span><span style="color:#d4d4d4"> </span><span style="color:#6a9955"># ç®—æ³•ï¼šcrc16(default) and crc32 </span></span>
<span class="line"><span style="color:#569cd6">permalink_defaults</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">defaultPermaLink</span><span style="color:#d4d4d4"> </span><span style="color:#6a9955"># é»˜è®¤æ°¸ä¹…é“¾æ¥çš„åç§°</span></span>
<span class="line"><span style="color:#569cd6">pretty_urls</span><span style="color:#d4d4d4">: </span><span style="color:#6a9955"># ä¼˜åŒ– URL ç¾è§‚æ€§</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">trailing_index</span><span style="color:#d4d4d4">: </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4"> </span><span style="color:#6a9955"># å¦‚æœè®¾ä¸º falseï¼Œå°†å»æ‰é“¾æ¥ç»“å°¾çš„ 'index.html'</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#569cd6">trailing_html</span><span style="color:#d4d4d4">: </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4"> </span><span style="color:#6a9955"># å¦‚æœè®¾ä¸º falseï¼Œå°†å»æ‰é“¾æ¥ç»“å°¾çš„ '.html'</span></span></code></pre></div></div></figure><p>è¯¦è§ Hexo å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/permalinks">ã€Hexoã€‘- æ°¸ä¹…é“¾æ¥ï¼ˆPermalinksï¼‰</a></p><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p>æˆ‘çš„ä»£ç ä¸­ï¼Œå†™æ­»äº†éƒ¨åˆ†æ’é™¤åœ¨å¤–ä¸ä¼šè·Ÿéšæ—¥å¤œæ¨¡å¼åˆ‡æ¢èƒŒæ™¯å›¾çš„é¡µé¢ï¼Œè¿™äº›é¡µé¢éƒ½æ˜¯èƒ½å¤Ÿè¢«</p><figure class="shiki js"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955">// æ’é™¤åœ¨å¤–çš„é¡µé¢</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">PAGE_EXCLUSIONS</span><span style="color:#d4d4d4"> = [</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/links/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/about/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/categories/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/tags/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#ce9178">"/collections/"</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">];</span></span>
<span class="line"><span style="color:#6a9955">// æ ¡éªŒ</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">isExcludedPage</span><span style="color:#d4d4d4"> = (</span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">if</span><span style="color:#d4d4d4"> (</span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4"> === </span><span style="color:#ce9178">"/"</span><span style="color:#d4d4d4">) </span><span style="color:#c586c0">return</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">return</span><span style="color:#d4d4d4"> </span><span style="color:#4fc1ff">PAGE_EXCLUSIONS</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">some</span><span style="color:#d4d4d4">((</span><span style="color:#9cdcfe">excluded</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">startsWith</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">excluded</span><span style="color:#d4d4d4">));</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span></code></pre></div></div></figure><p>æ ¡éªŒè¯­å¥åˆ¤æ–­ä¸ºçœŸè¿”å› <code>true</code> çš„ã€‚ä½†å¦‚æœä½ çš„ç½‘ç«™ä½¿ç”¨å¦‚ï¼š</p><ul><li><code>2013/07/14/hello-world/</code></li><li><code>2013-07-14-hello-world.html</code></li><li><code>foo/bar/hello-world/</code></li><li>â€¦â€¦</li></ul><p>ç­‰ç­‰æ–¹æ¡ˆï¼Œæˆ‘å¾ˆéš¾æ¯ä¸ªéƒ½é€‚é…ï¼Œåªå¾—ä½ è‡ªå·±è¿›è¡Œä¿®æ”¹ã€‚</p><p>ä¿®æ”¹å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚æ—¥æœŸç±»çš„æ°¸ä¹…é“¾æ¥ï¼š<code>/2025/04/26/xxx/</code></p><p>ä½ å¯ä»¥ä¿®æ”¹ <code>excludePages</code> ä¸­çš„å­—ç¬¦ä¸²ä¸ºæ­£åˆ™åŒ¹é…ç¬¦ï¼š<code>/^\/\d{4}\/\d{2}\/\d{2}\//</code></p><p>æ ¡éªŒå‡½æ•°ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸ºï¼š</p><figure class="shiki js"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955">// ç”¨äºåˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦åœ¨æ’é™¤èŒƒå›´å†…</span></span>
<span class="line"><span style="color:#569cd6">const</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">isExcludedPage</span><span style="color:#d4d4d4"> = (</span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4">) </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#c586c0">return</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">excludePathPatterns</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">some</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">pattern</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">=&gt;</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">pattern</span><span style="color:#d4d4d4">.</span><span style="color:#dcdcaa">test</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">path</span><span style="color:#d4d4d4">));</span></span>
<span class="line"><span style="color:#d4d4d4">};</span></span></code></pre></div></div></figure><p>æ€»ä¹‹ï¼Œæ–¹æ³•æœ‰å¾ˆå¤šã€‚å¦‚æœä½ æ²¡æœ‰è¿™æ–¹é¢çš„åŸºç¡€ï¼Œä½ ä¹Ÿå¯ä»¥å€ŸåŠ© AI å·¥å…·å®ç°ã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„ç½‘ç«™åˆšå»ºç«‹ï¼Œæ›´æ¢æ°¸ä¹…é“¾æ¥æ˜¯ä¸€ä»¶æŸå¤±éå¸¸å°çš„äº‹æƒ…ï¼Œå¦‚æœä½ ä¸æƒ³æŠ˜è…¾çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥æ›´æ¢æ°¸ä¹…é“¾æ¥æ¥é€‚é…ä»£ç ã€‚</p><div class="note note-warning"><p>âš ï¸ æ³¨æ„ï¼š<br>æ›´æ¢æ°¸ä¹…é“¾æ¥æ„å‘³ç€æ‚¨çš„ç½‘ç«™åœ¨å„æœç´¢å¼•æ“ä¸­çš„æ”¶å½•ç´¢å¼•å°†ä¼šå¤±æ•ˆï¼Œé‡æ–°ç´¢å¼•å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ï¼Œé‡æ–°ç´¢å¼•å®Œæˆçš„æ—¶é—´å°†å–å†³äºæ‚¨ç½‘ç«™çš„æµé‡é«˜ä½ã€‚å½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨å‰å¾€æäº¤ç´¢å¼•è¯·æ±‚ï¼Œä½†è¿™åªæ˜¯èµ·åˆ°å‘ŠçŸ¥ä½œç”¨ï¼Œé‡æ–°ç´¢å¼•å®Œæˆçš„æ—¶é—´ä»ç„¶æœªçŸ¥ã€‚è‹¥æ‚¨ä»ä¸æ˜ç™½è¿™å°†æœ‰ä½•å½±å“ï¼Œå»ºè®®æ‚¨ä¸è¦æ›´æ¢æ°¸ä¹…é“¾æ¥ã€‚</p></div><h2 id="æ¯›ç»ç’ƒåº•é¡µæ•ˆæœ"><a class="markdownIt-Anchor" href="#æ¯›ç»ç’ƒåº•é¡µæ•ˆæœ"></a> æ¯›ç»ç’ƒåº•é¡µæ•ˆæœ</h2><ol><li><p>ä¿®æ”¹<code>_config.fluid.yml</code> æ–‡ä»¶çš„ä¸»é¢æ¿èƒŒæ™¯è‰²</p><figure class="shiki diff"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955"># ä¸»é¢æ¿èƒŒæ™¯è‰²</span></span>
<span class="line"><span style="color:#6a9955"># Color of main board</span></span>
<span class="line"><span style="color:#ce9178">-board_color: "#ffffff"</span></span>
<span class="line"><span style="color:#ce9178">-board_color_dark: "#252d38"</span></span>
<span class="line"><span style="color:#b5cea8">+board_color: "#ffffff80"</span></span>
<span class="line"><span style="color:#b5cea8">+board_color_dark: "#00000080"</span></span></code></pre></div></div></figure></li><li><p><code>source/css</code> ç›®å½•ä¸‹æ–°å»º <code>glassBg.css</code> æ–‡ä»¶</p><figure class="shiki css"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div><div class="code"><pre class="shiki dark-plus"><code><span class="line"><span style="color:#6a9955">/* æ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ */</span></span>
<span class="line"><span style="color:#d7ba7d">#board</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">-webkit-backdrop-filter</span><span style="color:#d4d4d4">: </span><span style="color:#dcdcaa">blur</span><span style="color:#d4d4d4">(</span><span style="color:#b5cea8">10px</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">backdrop-filter</span><span style="color:#d4d4d4">: </span><span style="color:#dcdcaa">blur</span><span style="color:#d4d4d4">(</span><span style="color:#b5cea8">10px</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"><span style="color:#6a9955">/* ä¾§è¾¹ç›®å½•æ¯›ç»ç’ƒæ•ˆæœ */</span></span>
<span class="line"><span style="color:#d7ba7d">#toc</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">padding</span><span style="color:#d4d4d4">: </span><span style="color:#b5cea8">10px</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">top</span><span style="color:#d4d4d4">: </span><span style="color:#b5cea8">4rem</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">background-color</span><span style="color:#d4d4d4">: </span><span style="color:#dcdcaa">var</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">--board-bg-color</span><span style="color:#d4d4d4">);</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">border-radius</span><span style="color:#d4d4d4">: </span><span style="color:#b5cea8">10px</span><span style="color:#d4d4d4">;</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">-webkit-backdrop-filter</span><span style="color:#d4d4d4">: </span><span style="color:#dcdcaa">blur</span><span style="color:#d4d4d4">(</span><span style="color:#dcdcaa">var</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">--background-blur</span><span style="color:#d4d4d4">));</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">backdrop-filter</span><span style="color:#d4d4d4">: </span><span style="color:#dcdcaa">blur</span><span style="color:#d4d4d4">(</span><span style="color:#dcdcaa">var</span><span style="color:#d4d4d4">(</span><span style="color:#9cdcfe">--background-blur</span><span style="color:#d4d4d4">));</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span></code></pre></div></div></figure></li></ol><p>ä¾§è¾¹çš„ç›®å½•åŒºåŸŸæ¯›ç»ç’ƒæ•ˆæœå¦‚æœä¸éœ€è¦å¯ä»¥åˆ é™¤ã€‚</p><h2 id="ä¸€äº›å¥½ç”¨çš„æ’ä»¶"><a class="markdownIt-Anchor" href="#ä¸€äº›å¥½ç”¨çš„æ’ä»¶"></a> ä¸€äº›å¥½ç”¨çš„æ’ä»¶</h2><p>Hexo å®˜æ–¹æ¨èæ’ä»¶å°±è¶³å¤Ÿï¼š<a target="_blank" rel="noopener" href="https://fluid-dev.github.io/hexo-fluid-docs/advance/#hexo-%E6%8F%92%E4%BB%B6">https://fluid-dev.github.io/hexo-fluid-docs/advance/#hexo - æ’ä»¶</a></p><h2 id="è‡´è°¢"><a class="markdownIt-Anchor" href="#è‡´è°¢"></a> è‡´è°¢</h2><p>æ„Ÿè°¢ <a target="_blank" rel="noopener" href="https://github.com/banyee19">@banyee19</a> åœ¨æ—¥å¤œèƒŒæ™¯å›¾åˆ‡æ¢æ–¹é¢çš„æ¢ç©¶ï¼Œæˆ‘ä¸€åº¦ä»¥ä¸ºæˆ‘çš„åˆ‡æ¢æ•ˆæœæ˜¯æ­£å¸¸çš„ï¼Œä½†ä½¿ç”¨å…¶ä»–è®¾å¤‡è¿›è¡ŒæŸ¥çœ‹åæ‰å‘ç°æ•ˆæœæ— æ³•æ­£ç¡®å®ç°ï¼Œæ•…æ­¤é‡æ„ã€‚</p><p>ç›¸å…³æ–‡ç« ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://kznep19.blog/2025/04/26/%E7%99%BD%E5%A4%A9%E9%BB%91%E5%A4%9C%E8%83%8C%E6%99%AF%E5%9B%BE%E5%88%87%E6%8D%A2/">Hexo Fluid èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢</a> by <a target="_blank" rel="noopener" href="https://github.com/banyee19">@banyee19</a></li></ul><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Hexo/" class="category-chain-item">Hexo</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E7%BE%8E%E5%8C%96/" class="print-no-link">#ç¾åŒ–</a> <a href="/tags/Hexo/" class="print-no-link">#Hexo</a> <a href="/tags/fluid/" class="print-no-link">#fluid</a> <a href="/tags/%E6%97%A5%E5%A4%9C%E5%88%87%E6%8D%A2%E8%83%8C%E6%99%AF/" class="print-no-link">#æ—¥å¤œåˆ‡æ¢èƒŒæ™¯</a> <a href="/tags/CSS/" class="print-no-link">#CSS</a> <a href="/tags/JavaScript/" class="print-no-link">#JavaScript</a></div></div><div class="license-box my-3"><div class="license-title"><div>Hexo fluid å…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢ä»¥åŠæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ</div><div>https://4rozen.github.io/archives/Hexo/60191.html</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>4rozeN</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2024å¹´10æœˆ5æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-cc-by"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"><span class="hint--top hint--rounded" aria-label="NC - éå•†ä¸šæ€§ä½¿ç”¨"><i class="iconfont icon-cc-nc"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/archives/Hexo/7648.html" title="Hexo åšå®¢é…ç½® GitHub Actions æ¨é€ indexnow"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Hexo åšå®¢é…ç½® GitHub Actions æ¨é€ indexnow</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/archives/notes/57159.html" title="åç¡•å¥¥åˆ›ä¸­å¿ƒä»¥åŠå…¶ä»–æœåŠ¡ç»„ä»¶å½»åº•åˆ é™¤å¸è½½"><span class="hidden-mobile">åç¡•å¥¥åˆ›ä¸­å¿ƒä»¥åŠå…¶ä»–æœåŠ¡ç»„ä»¶å½»åº•åˆ é™¤å¸è½½</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="giscus" class="giscus"></div><script type="text/javascript">Fluid.utils.loadComments("#giscus",(function(){var t={repo:"4rozeN/4rozeN.github.io","repo-id":"R_kgDOMN8x0A",category:"General","category-id":"DIC_kwDOMN8x0M4CjtvK","theme-light":"light","theme-dark":"dark",mapping:"pathname","reactions-enabled":"1","emit-metadata":"1","input-position":"top",lang:"zh-CN",strict:"warn",theme:"dark",loading:"lazy",crossorigin:"anonymous"},e={};for(let i in t){if(!i.startsWith("theme-"))e[i.startsWith("data-")?i:"data-"+i]=t[i]}window.GiscusThemeLight="light",window.GiscusThemeDark="dark",e["data-theme"]="dark"===document.documentElement.getAttribute("data-user-color-scheme")?"dark":"light";for(let t in e){var i=e[t];null!=i&&""!==i||delete e[t]}var a=document.createElement("script");a.setAttribute("src","https://giscus.app/client.js"),a.setAttribute("crossorigin","anonymous");for(let t in e)a.setAttribute(t,e[t]);var n=document.getElementsByTagName("script"),r=n.length>0?n[n.length-1]:document.head||document.documentElement;r.parentNode.insertBefore(a,r.nextSibling)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-x-md"><div class="container custom mx-auto"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Noto+Sans+SC:wght@100..900&family=Noto+Serif+SC:wght@200..900&display=swap" rel="stylesheet"></div></div></main><footer><div class="footer-inner"><div class="footer-content"><hr><div class="footer"><a href="https://hexo.io" target="_blank" rel="nofollow noopener" style="color:#98989f">Hexo</a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener" style="color:#98989f">Fluid</a><div class="footer-daysCount"><span id="timeDate">è½½å…¥å¤©æ•°â€¦</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’â€¦</span><script src="/js/duration.js"></script></div><div class="footer-custom"></div></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡ </span><span id="busuanzi_container_site_uv" style="display:none">æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº</span></div></div></footer><script src="https://fastly.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!0,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://fastly.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://fastly.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://fastly.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://fastly.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://fastly.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://fastly.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://fastly.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/sign.js"></script><script src="/js/watch.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript><script src="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.js"></script><script>const CODE_CONFIG={beautify:!0,highlightCopy:!0,highlightLang:!0,highlightHeightLimit:360,isHighlightShrink:!1,copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶å¤±è´¥",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒå¤åˆ¶åŠŸèƒ½"}};console.log("%c hexo-shiki-plugin %c v1.0.27 %c https://github.com/nova1751/hexo-shiki-plugin","color: #fff; background: #5f5f5f","color: #fff; background: #80c8f8","")</script><script src="/js/backgroundize.js"></script></body></html>