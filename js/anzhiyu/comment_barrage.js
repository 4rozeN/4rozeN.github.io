const _0x155e61=_0x1817;function _0x59f6(){const e=["zM9YrwfJAa","C2vHCMnO","mtHPwu9qsge","mhb4","Aw5Uzxjive1m","kcGOlISPkYKRksSK","z2v0sxrLBq","BgvUz3rO","mtHYt29yAw0","qNr5EuW","zgTRs1K","y3jLyxrLrwXLBwvUDa","CxvLCNLtzwXLy3rVCG","C2vUza","yMfYCMfNzuXPC3q","CxvLCNLtzwXLy3rVCKfSBa","44cq5lUJ56cb44cr","y29TBwvUDejHCNjHz2vdB25MAwC","rKTcDwW","yxbWBgLJyxrPB24VANnVBG","CgPHEdPZzw5K","nda2odHwru96zeC","zhzoyxy","zgLZCgXHEq","yMfYCMfNzvrPBwu","ue9tva","C3bHBG","jYi+cIaGicaGicaGicaGia","C2TJCgi","rMPRDMW","y2XHC3nmAxn0","lM1LBNuTy29TBwvUDejHCNjHz2uTDgv4Da","yM9KEq","cIaGicaGicaGica8l2fUEMHPExu+cIaGicaGicaG","EwfIuuG","y2XPzw50v2LKDgG","ChvZAa","CgfYzw50tM9Kzq","DgSTB3DVlwvTB3rPB24","mJK4ndGXmgvkBuj0vq","CMvWBgfJzunOAwXK","zK92q3u","CMvZCg9UC2vuzxH0","Bw91C2vLBNrLCG","Cgf0Ag5HBwu","yMfYCMfNzujSB2DNzxjuAxrSzq","yMfYCMfNzvrPBwvY","cIaGicaGicaGicaGidWVyt4kicaGicaGicaGicaGpgrPDIbJBgfZCZ0IyMfYCMfNzu5Py2SIpG","y25bAxy","BwHuCgi","cIaGicaGicaGica8zgL2ignSyxnZpsjIyxjYywDLsgvHzci+cIaGicaGicaGicaGidXHignSyxnZpsjIyxjYywDLvgL0BguG","BwfPBe1Knq","5ywZ6zET54oT6k+e","y3jLyxrLza","zg9T","Bw91C2vSzwf2zq","mJeXntm4z0HAqxzI","yxbWBhK","mtm2nta3mMPREvHgAW","yw56AgL5DsbWCMu","CgfYC2u","lMnVBw1LBNqTyMfYCMfNzq","DhDPA29Vrw52swq","CMvTB3zLq2HPBgq","yw56AgL5DsbPBwC","AK1Uvgu","C3r5Bgu","tuLtCfi","CMvWBgLLCW","CgfNzvvYBa","B2jZzxj2zq","ywrKrxzLBNrmAxn0zw5LCG","Bg9JyxrPB24","zgL2","yxbWzw5K","BM9Uzq","y29TBwvUDa","Bwf4qMfYCMfNzq","C2HPzNq","mJGXmdaXsvPwEMf2","mJa1zurYDxvr","y29UDgfPBNm","mtuZmti0nvHIwKTozW","DhDPA29VvxjS","zgf0yq","Aw5UzxjuzxH0","yMfYCMfNzuLUzgv4","Dgv4DenVBNrLBNq","ywnJzxnZvg9Rzw4","Egvgv0G","y29UC3rYDwn0B3i","Cg9ZDc1JB21Tzw50","pc9KAxy+cIaGicaGicaGicaGidXPBwCGy2XHC3m9iM5VBgf6EwXVywqGyMfYCMfNzuf2yxrHCIiGC3jJpsjODhrWCZOVl2nYyxzHDgfYlMnUl2f2yxrHCI8","C2v0uMvXDwvZDeHLywrLCG","Dg9tDhjPBMC","5PI+56s654oT6k+e","sKD5Exa","y29TBwvUDc1IyxjYywDLlwL0zw0","mJyXmZy2nK5dDLjivG","y2XHC3noyw1L","BMLJAW","y29TBwvUDejHCNjHz2vtD2L0y2G","AxnjBNrLCNnLy3rPBMC","zKXnEei","z2v0rwXLBwvUDej5swq","mKLSAM5hAa"];return(_0x59f6=function(){return e})()}function _0x1817(e,n){const t=_0x59f6();return _0x1817=function(n,r){let a=t[n-=492];if(void 0===_0x1817.lohNfA){var o=function(e){let n="",t="",r=n+o;for(let t,a,o=0,c=0;a=e.charAt(c++);~a&&(t=o%4?64*t+a:a,o++%4)?n+=r.charCodeAt(c+10)-10!=0?String.fromCharCode(255&t>>(-2*o&6)):o:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let e=0,r=n.length;e<r;e++)t+="%"+("00"+n.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(t)};_0x1817.CNhaLf=o,e=arguments,_0x1817.lohNfA=!0}const c=n+t[0],i=e[c];if(i)a=i;else{const n=function(e){this.fYbckt=e,this.RRCqQA=[1,0,0],this.VhzvtW=function(){return"newState"},this.rkeUPo="\\w+ *\\(\\) *{\\w+ *",this.mrusWR="['|\"].+['|\"];? *}"};n.prototype.GLueuF=function(){const e=new RegExp(this.rkeUPo+this.mrusWR).test(this.VhzvtW.toString())?--this.RRCqQA[1]:--this.RRCqQA[0];return this.LdDDAh(e)},n.prototype.LdDDAh=function(e){return Boolean(~e)?this.szWvoI(this.fYbckt):e},n.prototype.szWvoI=function(e){for(let e=0,n=this.RRCqQA.length;e<n;e++)this.RRCqQA.push(Math.round(Math.random())),n=this.RRCqQA.length;return e(this.RRCqQA[0])},new n(_0x1817).GLueuF(),a=_0x1817.CNhaLf(a),e[c]=a}return a},_0x1817(e,n)}if(function(){const e=_0x1817,n=_0x59f6();for(;;)try{if(373194===parseInt(e(502))/1*(parseInt(e(559))/2)+parseInt(e(585))/3+-parseInt(e(524))/4*(parseInt(e(583))/5)+-parseInt(e(511))/6*(parseInt(e(582))/7)+-parseInt(e(561))/8+-parseInt(e(505))/9*(-parseInt(e(542))/10)+-parseInt(e(495))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(),document[_0x155e61(515)](_0x155e61(564))){var commentBarrageConfig={maxBarrage:GLOBAL_CONFIG[_0x155e61(520)][_0x155e61(580)],barrageTime:GLOBAL_CONFIG[_0x155e61(520)][_0x155e61(527)],twikooUrl:GLOBAL_CONFIG[_0x155e61(565)],accessToken:GLOBAL_CONFIG.commentBarrageConfig[_0x155e61(591)],mailMd5:GLOBAL_CONFIG[_0x155e61(520)][_0x155e61(554)],pageUrl:window[_0x155e61(575)][_0x155e61(547)],barrageTimer:[],barrageList:[],barrageIndex:0,dom:document.querySelector(_0x155e61(564))},commentInterval=null,hoverOnCommentBarrage=!1;function initCommentBarrage(){const e=_0x155e61,n=function(){let e=!0;return function(n,t){const r=_0x1817;if(r(531)===r(513)){const e=_0x34e244?function(){if(_0x1a0723){const e=_0x3ffcad[r(560)](_0x96a479,arguments);return _0x343a94=null,e}}:function(){};return _0x46d660=!1,e}{const a=e?function(){if(t){const e=t[r(560)](n,arguments);return t=null,e}}:function(){};return e=!1,a}}}(),t=n(this,function(){const e=_0x1817;return t[e(597)]().search(e(508)).toString()[e(593)](t)[e(504)](e(508))});if(t(),commentBarrageConfig[e(557)]){var r=JSON.stringify({event:"COMMENT_GET","commentBarrageConfig.accessToken":commentBarrageConfig[e(591)],url:commentBarrageConfig[e(572)]}),a=new XMLHttpRequest;a.withCredentials=!0,a[e(574)]("readystatechange",function(){const n=e;"jMnTe"!==n(568)?(_0x117578[n(517)][n(510)]&&!_0x4c273d&&(_0x5dc873(_0x22a91b[n(517)][_0x1777fe[n(589)]]),_0x5f5e09[n(589)]+=1,_0x37324e[n(589)]%=_0x1b06f3[n(517)][n(510)]),_0x2fcbf7[n(549)].length>(_0x2cd084[n(517)][n(510)]>_0x988843[n(580)]?_0x40c76f[n(580)]:_0x28166c[n(517)][n(510)])&&!_0x405973&&_0x322ff3(_0xbb579e[n(549)][n(581)]())):4===this.readyState&&this.responseText&&(commentBarrageConfig[n(517)]=commentLinkFilter(JSON[n(563)](this[n(545)])[n(587)]),commentBarrageConfig[n(557)][n(507)]="")}),a.open(e(528),commentBarrageConfig[e(586)]),a[e(596)]("Content-Type",e(522)),a[e(516)](r),clearInterval(commentInterval),commentInterval=null,commentInterval=setInterval(()=>{const n=e;commentBarrageConfig[n(517)][n(510)]&&!hoverOnCommentBarrage&&(popCommentBarrage(commentBarrageConfig[n(517)][commentBarrageConfig[n(589)]]),commentBarrageConfig[n(589)]+=1,commentBarrageConfig[n(589)]%=commentBarrageConfig[n(517)][n(510)]),commentBarrageConfig[n(549)][n(510)]>(commentBarrageConfig[n(517)][n(510)]>commentBarrageConfig[n(580)]?commentBarrageConfig[n(580)]:commentBarrageConfig[n(517)].length)&&!hoverOnCommentBarrage&&removeCommentBarrage(commentBarrageConfig.barrageTimer[n(581)]())},commentBarrageConfig[e(527)])}}function commentLinkFilter(e){e.sort((e,n)=>{const t=_0x1817;if("YbahS"!==t(592))return e[t(556)]-n[t(556)];_0x37d116[t(539)](..._0x703e18(_0x41dbe8))});let n=[];return e.forEach(e=>{const t=_0x1817;t(532)!==t(521)?n[t(539)](...getCommentReplies(e)):_0x36bedd[t(539)](..._0x561e21(_0x3e3afd))}),n}function getCommentReplies(e){const n=_0x155e61;if(e[n(571)]){if("DHdIa"!==n(512)){let t=[e];return e[n(571)].forEach(e=>{const r=n;r(570)!==r(500)?t[r(539)](...getCommentReplies(e)):_0x594091=!0}),t}{let e=_0x4e9293[n(514)]("span");e[n(588)]=n(519),_0x3c4da9[n(540)][n(543)](e,_0x184518)}}else{if("mhTpb"===n(552))return[];if(_0x4f0de7){const e=_0xae313d[n(560)](_0x44268e,arguments);return _0x15dd0a=null,e}}}function popCommentBarrage(e){const n=_0x155e61;let t=document[n(514)](n(576));t.className=n(494),t.innerHTML=n(553)+(e.mailMd5===commentBarrageConfig.mailMd5?n(548):"")+'" href="javascript:anzhiyu.scrollTo(\'#post-comment\')"">\n              '+(e.mailMd5===commentBarrageConfig.mailMd5?"博主":"热评")+n(550)+e[n(497)]+n(595)+e.mailMd5+'"/>\n            <a class="comment-barrage-close" href="javascript:anzhiyu.switchCommentBarrage()"><i class="anzhiyufont anzhiyu-icon-xmark"></i></a>\n          </div>\n          <anzhiyu class="barrageContent" onClick="window.location.hash = \''+e.id+n(530)+e[n(579)]+n(536),t.querySelectorAll(n(562)).forEach(e=>{const t=n;if(t(537)!==t(525)){let n=document[t(514)]("span");n[t(588)]="【代码】",e[t(540)].replaceChild(n,e)}else _0x4395c3=!1}),t.querySelectorAll(n(567))[n(503)](e=>{const t=n;if(!e.classList[t(584)]("tk-owo-emotion")){if(t(544)!=t(544)){const e=_0x128b43[t(560)](_0x4dbfab,arguments);return _0x2e6381=null,e}{e.style[t(526)]=t(578);let n=document.createElement("span");n.innerText="【图片】",e[t(540)].replaceChild(n,e)}}}),commentBarrageConfig.barrageTimer[n(539)](t),commentBarrageConfig[n(557)][n(577)](t)}function removeCommentBarrage(e){const n=_0x155e61;e[n(496)]="comment-barrage-item out",setTimeout(()=>{const t=n;t(493)==t(493)?commentBarrageConfig[t(557)]&&commentBarrageConfig[t(557)].contains(e)&&commentBarrageConfig[t(557)][t(566)](e):_0x30cd24(_0x39e54d[t(549)][t(581)]())},1e3)}document[_0x155e61(515)](".comment-barrage")[_0x155e61(574)](_0x155e61(546),function(){hoverOnCommentBarrage=!0}),document.querySelector(_0x155e61(564))[_0x155e61(574)](_0x155e61(558),function(){hoverOnCommentBarrage=!1});const e=new IntersectionObserver(e=>{const n=_0x155e61,t=document[n(515)](n(564)),r=document[n(501)](n(594));e[n(503)](e=>{const a=n;r&&t&&document[a(535)].clientWidth>768&&(a(551)==a(551)?t[a(569)].bottom=e[a(499)]?"-"+200*commentBarrageConfig[a(580)]+"px":"0":_0x2a86de&&_0x241cf1&&_0x3ed100[a(535)][a(538)]>768&&(_0x7737d5[a(569)].bottom=_0x8fb6ee[a(499)]?"-"+200*_0x5c4b6a[a(580)]+"px":"0"))})},{root:null,rootMargin:_0x155e61(506),threshold:0}),n=document[_0x155e61(501)](_0x155e61(594));n&&e[_0x155e61(573)](n),initCommentBarrage(),"false"!==localStorage[_0x155e61(509)](_0x155e61(498))?(document[_0x155e61(515)](_0x155e61(564)).style[_0x155e61(526)]="flex",document[_0x155e61(515)](_0x155e61(534))[_0x155e61(590)]=_0x155e61(555)):(document.querySelector(_0x155e61(564))[_0x155e61(569)][_0x155e61(526)]=_0x155e61(578),document[_0x155e61(515)](_0x155e61(534))[_0x155e61(590)]=_0x155e61(492)),document.addEventListener(_0x155e61(523),function(){clearInterval(commentInterval)})}