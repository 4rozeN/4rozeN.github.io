let title=document.querySelector('meta[property="og:title"]').getAttribute("content");window.onblur=()=>{document.title="等你回来(∠・ω< )⌒☆"},window.onfocus=()=>{document.title=title},document.title=title,(()=>{function n(e){return e?Math.round(e)+"ms":"—"}let a={ttfb:null,fcp:null,lcp:null,ready:null};async function e(){try{var e,[t]=performance.getEntriesByType("navigation");t?a.ttfb=t.responseStart-t.requestStart:performance.timing&&(e=performance.timing,a.ttfb=e.responseStart-e.requestStart)}catch(e){console.warn("[Perf] 获取 TTFB 失败：",e)}await Promise.all([new Promise(r=>{try{let n=new PerformanceObserver(e=>{for(var t of e.getEntries())if("first-contentful-paint"===t.name){a.fcp=t.startTime,n.disconnect(),r();break}});n.observe({type:"paint",buffered:!0}),setTimeout(()=>{n.disconnect(),r()},5e3)}catch(e){console.warn("[Perf] 监听 FCP 失败：",e),r()}}),new Promise(t=>{try{let e=new PerformanceObserver(e=>{e=e.getEntries();0<e.length&&(a.lcp=e[e.length-1].startTime)});e.observe({type:"largest-contentful-paint",buffered:!0}),window.addEventListener("load",()=>{e.disconnect(),t()},{once:!0}),setTimeout(()=>{e.disconnect(),t()},1e4)}catch(e){console.warn("[Perf] 监听 LCP 失败：",e),t()}}),new Promise(o=>{try{let n=document.getElementById("loading-box");var e=performance.now();if(!n)return a.ready=e,o();if(n.classList.contains("loaded"))return a.ready=e,o();let r=new MutationObserver(e=>{for(var t of e)if("attributes"===t.type&&"class"===t.attributeName&&n.classList.contains("loaded"))return a.ready=performance.now(),r.disconnect(),void o()});r.observe(n,{attributes:!0,attributeFilter:["class"]}),setTimeout(()=>{a.ready||(a.ready=performance.now(),r.disconnect(),o())},5e3)}catch(e){console.warn("[Perf] 监听动画完成失败：",e),a.ready=performance.now(),o()}})]),(t=document.getElementById("performance-info"))&&(t.textContent=`[ 响应(TTFB)：${n(a.ttfb)}｜`+`可见(FCP)：${n(a.fcp)}｜`+`主内容(LCP)：${n(a.lcp)}｜`+`完全就绪：${n(a.ready)} ]`)}"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,{once:!0})})();